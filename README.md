# Recommender system to form teams using *reinforcement learning*
Thesis of my Computer Science Bachelor - Done by David Valero Masachs and directed by Prof. Dr. Cecilio Angulo Bah√≥n.
You will find all the documentation of the thesis in `./documentation/memoria.pdf`.

## Abstract ##

In the university world it is increasingly common for students to do internships in a company during their university degree, but there are no systems that simplify the work
of assigning students to the different projects offered by companies.

This final degree project presents, through the use of reinforcement learning algorithms, a tool that gives students as many alternatives as they want according to their preferences, the projects that are offered and the student profiles that each of the companies wants for each project. In addition, it also allows each student to order their alternatives to their liking and the system, trying to satisfy as many students as possible, gives a final assignment.

To carry out this project Python has been used as a programming language and OpenAI library to facilitate the creation of the environment. Due to the characteristics
of the problem, the agent used Stable Baselines library and A2C reinforcement learning algorithm to perform the first assignment.

The final assignment also uses the same structure and algorithm, but to facilitate training, a loop pre-assigns all the students it can assign directly. The A2C agent is responsible for assigning students who cannot be assigned to any project on their initial list of alternatives.

## Files and their functionality ##
### Folder ./samples ###
You will find all the executables in the project. The following scripts have been created:

- **generateJSON.py**
  
  Script that generates a random JSON of students and projects according to questions4students.md and questions4companies.md.
  To run it you need to put:
  
  `python generateJSON.py numberStudents numberProjects`
  
  On:
  - `numberStudents` is the number of students to generate, if no value is set, the default value will be assigned, 100.
  - `numberProjects` is the number of projects to generate, if no value is set, the default value will be assigned, 20.
  
  Once run, the results are exported to 'studentsProjectsData.json', where all the students and projects created are.


- **recommender.py**
  
  Script that uses Reinforcement Learning to assign all students to projects,
  to run you need to have the json 'studentsProjectsData.json' generated by the previous script and run:
  
  `python recommender.py mode numberOptions type Agent`
  
  On:
  - `mode` is a bool that indicates whether it is to be run in assignment mode (mode = 0) or reassignment (mode = 1).
    The default value is 0, assignment.
  - `numberOptions` is the number of options you want to generate per student,
    if no value is set, the default value will be assigned, 3.
  - `typeAgent` is the number of the agent you want to train, there are the following options,
  if no value is set, the default value will be assigned, 2, AC2:
    - 0: Random, Random assignment meeting requirements.
    - 1: Q Learning
    - 2: AC2
  
  Once you have finished running, export the results to a JSON file called `optionsData.json`, where the options are
  which each student has with his average. Also, if it is QLearning it exports QTable to `qTableData.csv`.


- **selector.py**
  
  Script that selects one of the options available to each student at random. 
  To run you must have the json `optionsData.json` generated by the previous script and:
  
  `python selector.py`
  
  Once run, the results are exported to `optionsSelectedData.json`,
  where students are sorted by grade and with the option chosen.

- **runItAll.py**
  
  Script that runs all of the above scripts in a row.
  
   `python runItAll.py numberStudents numberProjects numberOptions typeAgent`
  
   On:
   - `numberStudents` is the number of students to generate, if no value is set, the default value will be assigned, 100.
   - `numberProjects` is the number of projects to generate, if no value is set, the default value will be assigned, 20.
   - `numberOptions` is the number of options you want to generate per student, if no value is set, the
   default value, 3.
   - `typeAgent` is the type of agent you want to use, it works the same as the script` recommender.py`,
   if no value is set, the default value, AC2, will be assigned.
  
   Once run, the results are exported to `studentsProjectsData.json`,
   where all the students and projects created are.

### Folder ./documentation ###
You will find all the project documentation.

- **momoria.pdf**:
Documentation of the project.

- **questions4students.md**:
Collection of questions that will be asked to students.

- **questions4companies.md**:
Collection of questions that will be asked of companies.

